{"ast":null,"code":"import _asyncToGenerator from \"C:/John Bryce Programing/Test angular/Yogev Bar/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { environment } from 'src/environments/environment';\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DataService {\n  constructor(http) {\n    this.http = http;\n  }\n  getAllCategories() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this.http.get(environment.categoriesUrl);\n      const categories = yield firstValueFrom(observable);\n      return categories;\n    })();\n  }\n  getEventsByCategory(categoryId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this2.http.get(environment.eventsByCategoryUrl + categoryId);\n      const shops = yield firstValueFrom(observable);\n      return shops;\n    })();\n  }\n  addEvent(event) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this3.http.post(environment.eventsUrl, event);\n      yield firstValueFrom(observable);\n    })();\n  }\n  deleteEvent(_id) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this4.http.delete(environment.eventsUrl + _id);\n      yield firstValueFrom(observable);\n    })();\n  }\n}\n_class = DataService;\n_class.ɵfac = function DataService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.HttpClient));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["environment","firstValueFrom","DataService","constructor","http","getAllCategories","_this","_asyncToGenerator","observable","get","categoriesUrl","categories","getEventsByCategory","categoryId","_this2","eventsByCategoryUrl","shops","addEvent","event","_this3","post","eventsUrl","deleteEvent","_id","_this4","delete","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\John Bryce Programing\\Test angular\\Yogev Bar\\Frontend\\src\\app\\services\\data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from \"@angular/common/http\";\nimport { CategoryModel } from '../models/category.model';\nimport { environment } from 'src/environments/environment';\nimport { firstValueFrom } from 'rxjs';\nimport { EventModel } from '../models/event.model';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DataService {\n\n    public constructor(private http: HttpClient) { }\n\n    public async getAllCategories(): Promise<CategoryModel[]> {\n        const observable = this.http.get<CategoryModel[]>(environment.categoriesUrl);\n        const categories = await firstValueFrom(observable);\n        return categories;\n    }\n\n    public async getEventsByCategory(categoryId: string): Promise<EventModel[]> {\n        const observable = this.http.get<EventModel[]>(environment.eventsByCategoryUrl+ categoryId);\n        const shops = await firstValueFrom(observable);\n        return shops;\n    }\n\n    public async addEvent(event: EventModel): Promise<void> {\n        const observable = this.http.post<EventModel>(environment.eventsUrl, event);\n        await firstValueFrom(observable);\n    }\n\n    public async deleteEvent(_id: string): Promise<void> {\n        const observable = this.http.delete(environment.eventsUrl + _id);\n        await firstValueFrom(observable);\n    }\n\n}\n"],"mappings":";;AAGA,SAASA,WAAW,QAAQ,8BAA8B;AAC1D,SAASC,cAAc,QAAQ,MAAM;;;AAMrC,OAAM,MAAOC,WAAW;EAEpBC,YAA2BC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;EAAgB;EAElCC,gBAAgBA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACzB,MAAMC,UAAU,GAAGF,KAAI,CAACF,IAAI,CAACK,GAAG,CAAkBT,WAAW,CAACU,aAAa,CAAC;MAC5E,MAAMC,UAAU,SAASV,cAAc,CAACO,UAAU,CAAC;MACnD,OAAOG,UAAU;IAAC;EACtB;EAEaC,mBAAmBA,CAACC,UAAkB;IAAA,IAAAC,MAAA;IAAA,OAAAP,iBAAA;MAC/C,MAAMC,UAAU,GAAGM,MAAI,CAACV,IAAI,CAACK,GAAG,CAAeT,WAAW,CAACe,mBAAmB,GAAEF,UAAU,CAAC;MAC3F,MAAMG,KAAK,SAASf,cAAc,CAACO,UAAU,CAAC;MAC9C,OAAOQ,KAAK;IAAC;EACjB;EAEaC,QAAQA,CAACC,KAAiB;IAAA,IAAAC,MAAA;IAAA,OAAAZ,iBAAA;MACnC,MAAMC,UAAU,GAAGW,MAAI,CAACf,IAAI,CAACgB,IAAI,CAAapB,WAAW,CAACqB,SAAS,EAAEH,KAAK,CAAC;MAC3E,MAAMjB,cAAc,CAACO,UAAU,CAAC;IAAC;EACrC;EAEac,WAAWA,CAACC,GAAW;IAAA,IAAAC,MAAA;IAAA,OAAAjB,iBAAA;MAChC,MAAMC,UAAU,GAAGgB,MAAI,CAACpB,IAAI,CAACqB,MAAM,CAACzB,WAAW,CAACqB,SAAS,GAAGE,GAAG,CAAC;MAChE,MAAMtB,cAAc,CAACO,UAAU,CAAC;IAAC;EACrC;;SAxBSN,WAAW;;mBAAXA,MAAW,EAAAwB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;;SAAX3B,MAAW;EAAA4B,OAAA,EAAX5B,MAAW,CAAA6B,IAAA;EAAAC,UAAA,EAFR;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}