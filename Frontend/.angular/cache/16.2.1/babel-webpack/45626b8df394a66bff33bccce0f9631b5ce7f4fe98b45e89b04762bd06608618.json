{"ast":null,"code":"import _asyncToGenerator from \"C:/John Bryce Programing/Test angular/Yogev Bar/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"@angular/common\";\nfunction ListComponent_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", c_r2._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r2.categoryName);\n  }\n}\nfunction ListComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ListComponent_tr_22_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const e_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteMe(e_r3._id));\n    });\n    i0.ɵɵtext(14, \"\\u274C\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const e_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 5, e_r3.eventDate, \"EEEE, MMMM d, yyyy, HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(e_r3.eventDescription);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r3.eventAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r3.eventAmountPeople);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.hasEventTakenPlace(e_r3) ? \"Yes\" : \"No\", \" \");\n  }\n}\nexport class ListComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.categories = yield _this.dataService.getAllCategories();\n      } catch (err) {\n        alert(err.message);\n      }\n    })();\n  }\n  getEvents(args) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const categoryId = args.target.value;\n        _this2.events = yield _this2.dataService.getEventsByCategory(categoryId);\n      } catch (err) {\n        alert(err.message);\n      }\n    })();\n  }\n  deleteMe(_id) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const sure = window.confirm(\"Are you sure?\");\n        if (!sure) return;\n        yield _this3.dataService.deleteEvent(_id);\n        alert(\"Event has been deleted.\");\n        _this3.events = _this3.events.filter(e => e._id !== _id);\n      } catch (err) {\n        alert(err.message);\n      }\n    })();\n  }\n  hasEventTakenPlace(event) {\n    const currentDate = new Date();\n    const eventDate = new Date(event.eventDate);\n    return currentDate >= eventDate;\n  }\n}\n_class = ListComponent;\n_class.ɵfac = function ListComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.DataService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-list\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 23,\n  vars: 2,\n  consts: [[3, \"change\"], [\"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"click\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵelementStart(2, \"select\", 0);\n      i0.ɵɵlistener(\"change\", function ListComponent_Template_select_change_2_listener($event) {\n        return ctx.getEvents($event);\n      });\n      i0.ɵɵelementStart(3, \"option\", 1);\n      i0.ɵɵtext(4, \"Select Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, ListComponent_option_5_Template, 2, 2, \"option\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"table\")(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Amount of people\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Did the event take place?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"tbody\");\n      i0.ɵɵtemplate(22, ListComponent_tr_22_Template, 15, 8, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.events);\n    }\n  },\n  dependencies: [CommonModule, i2.NgForOf, i2.DatePipe],\n  styles: [\"table[_ngcontent-%COMP%] {\\n    margin: 20px auto;\\n    color: black;\\n    background-image: linear-gradient(green, lightgreen);\\n}\\n\\ntable[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n    border: 1px solid black;\\n    border-collapse: collapse;\\n    padding: 5px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXRhLWFyZWEvbGlzdC9saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtJQUNaLG9EQUFvRDtBQUN4RDs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qix5QkFBeUI7SUFDekIsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KGdyZWVuLCBsaWdodGdyZWVuKTtcclxufVxyXG5cclxudGFibGUsIHRoLCB0ZCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","c_r2","_id","ɵɵadvance","ɵɵtextInterpolate","categoryName","ɵɵlistener","ListComponent_tr_22_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","_r5","e_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","deleteMe","ɵɵpipeBind2","eventDate","eventDescription","eventAddress","eventAmountPeople","ɵɵtextInterpolate1","ctx_r1","hasEventTakenPlace","ListComponent","constructor","dataService","ngOnInit","_this","_asyncToGenerator","categories","getAllCategories","err","alert","message","getEvents","args","_this2","categoryId","target","value","events","getEventsByCategory","_this3","sure","window","confirm","deleteEvent","filter","e","event","currentDate","Date","ɵɵdirectiveInject","i1","DataService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ListComponent_Template","rf","ctx","ɵɵelement","ListComponent_Template_select_change_2_listener","$event","ɵɵtemplate","ListComponent_option_5_Template","ListComponent_tr_22_Template","i2","NgForOf","DatePipe","styles"],"sources":["C:\\John Bryce Programing\\Test angular\\Yogev Bar\\Frontend\\src\\app\\components\\data-area\\list\\list.component.ts","C:\\John Bryce Programing\\Test angular\\Yogev Bar\\Frontend\\src\\app\\components\\data-area\\list\\list.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { CategoryModel } from 'src/app/models/category.model';\nimport { EventModel } from 'src/app/models/event.model';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n    selector: 'app-list',\n    standalone: true,\n    imports: [CommonModule],\n    templateUrl: './list.component.html',\n    styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit {\n    public categories: CategoryModel[];\n    public events: EventModel[];\n\n    public constructor(private dataService: DataService) { }\n\n    public async ngOnInit() {\n        try {\n            this.categories = await this.dataService.getAllCategories();\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    public async getEvents(args: Event) {\n        try {\n            const categoryId = (args.target as HTMLSelectElement).value;\n            this.events = await this.dataService.getEventsByCategory(categoryId);\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    public async deleteMe(_id: string) {\n        try {\n            const sure = window.confirm(\"Are you sure?\");\n            if (!sure) return;\n            await this.dataService.deleteEvent(_id);\n            alert(\"Event has been deleted.\");\n            this.events = this.events.filter(e => e._id !== _id);\n        }\n        catch (err: any) {\n            alert(err.message);\n        }\n    }\n\n    public hasEventTakenPlace(event: EventModel): boolean {\n        const currentDate = new Date();\n        const eventDate = new Date(event.eventDate);\n        return currentDate >= eventDate;\n    }\n}","<div>\n    <br>\n    <select (change)=\"getEvents($event)\">\n        <option disabled selected>Select Category</option>\n        <option *ngFor=\"let c of categories\" [value]=\"c._id\">{{c.categoryName}}</option>\n    </select>\n\n    <table>\n        <thead>\n            <tr>\n                <th>Date</th>\n                <th>Description</th>\n                <th>Address</th>\n                <th>Amount of people</th>\n                <th>Did the event take place?</th>\n                <th>Action</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let e of events\">\n                <td>{{ e.eventDate | date: 'EEEE, MMMM d, yyyy, HH:mm' }}</td>\n                <td>{{e.eventDescription}}</td>\n                <td>{{e.eventAddress}}</td>\n                <td>{{e.eventAmountPeople}}</td>\n                <td>\n                    {{ hasEventTakenPlace(e) ? 'Yes' : 'No' }}\n                </td>\n                <td>\n                    <button (click)=\"deleteMe(e._id)\">❌</button>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}